{
  "target_schema":"bestmatch",
  "datasource":[
    {
      "name":"odw",
      "type":"sql",
      "db":{
        "conn":"host='localhost' dbname='odw' user='postgres' password='postgres'",
        "vendor":"postgres"
      }
    }
  ],
  "queries":[
    {
      "name":"retrieve",
      "sql": "SELECT * FROM data WHERE creation_time > '%(start)s' and creation_time < '%(end)s'",
      "items": [
        {
          "source": "higher_outcome",
          "process_as": "string",
          "is_required": true,
          "target_features": [
            { "name": "higher_outcome" }
          ]
        },
        { "source": "employer_info",
          "is_required": true,
          "process_as": "json",
          "target_features": [
            { "name": "employer.op_timezone", "jsonpath": "$.op_timezone"},
            { "name": "employer.op_country_tz", "jsonpath": "$.op_country_tz" },
            { "name": "tsexams", "jsonpath": "$.tsexams", "key-path": "$.ts_name", "value-path": "$.ts_score" },
            { "name": "employer.op_tot_jobs_filled", "jsonpath": "$.op_tot_jobs_filled" },
            { "name": "employer.country", "jsonpath": "$.country" }
          ]
        },
        {
          "process_as": "expression",
          "target_features": [
            { "name": "country_pair", "expression": "%(employer.country)s,%(contractor.country)s"}
          ]
        }
      ]
    }
  ]
}